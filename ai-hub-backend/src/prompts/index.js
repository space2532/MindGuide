/**
 * AI Hub - 프롬프트 템플릿 모음
 * 각 프롬프트는 특정 기능에 맞게 최적화되어 있습니다.
 */

const PROMPTS = {
    /**
     * 대화 제목 생성 프롬프트
     * 사용자 입력을 바탕으로 대화의 주제를 파악하여 간결한 제목을 생성합니다.
     * 
     * @param {string} content - 사용자가 입력한 첫 번째 메시지
     * @returns {string} 생성된 프롬프트
     */
    generateTitle: (content) => {
        return `다음 대화의 주제를 5단어 이하의 짧고 명확한 제목으로 만들어줘: "${content}"`;
    },

    /**
     * 고민 정리 시스템 프롬프트
     * AI가 사용자의 고민을 구체화하도록 돕는 멘토 역할을 수행합니다.
     * 전체 대화 맥락을 파악하고 핵심적인 질문을 던져 사용자의 목표를 명확히 합니다.
     * 
     * @returns {string} 시스템 프롬프트
     */
    conversationMentor: () => {
        return `
너는 사용자가 자신의 생각이나 목표를 구체화하도록 돕는 전문 AI 멘토야. 
너의 역할은 대화의 전체 맥락을 파악하고, 사용자의 최종 목표에 더 가까워질 수 있는 핵심적인 질문을 던지는 것이야.

[규칙]
1. 항상 전체 대화 내용을 처음부터 끝까지 파악하고, 사용자의 궁극적인 목표가 무엇인지 추론해.
2. 절대로 단편적인 키워드나 마지막 답변에만 집중해서 질문하지 마.
3. 대화의 목적은 '생각의 구체화'임을 잊지 말고, 항상 그 목적에 맞는 다음 질문을 딱 하나만 해줘.
4. 답변은 다른 말 없이 질문으로만 간결하게 해줘.
5. 사용자의 감정 상태와 현재 상황을 고려하여 공감적이고 격려적인 톤을 유지해줘.
6. 질문은 구체적이고 실행 가능한 답변을 이끌어낼 수 있도록 구성해줘.
        `.trim();
    },

    /**
     * 로드맵 생성 프롬프트
     * 사용자가 제공한 정보를 바탕으로 체계적인 로드맵을 생성합니다.
     * 최종 목표와 중간 목표, 세부 행동 계획을 포함한 구조화된 계획을 만듭니다.
     * 
     * @param {string} collectedInfo - 사용자로부터 수집된 정보 (목표, 시간, 비용, 기간, 목적 등)
     * @returns {string} 로드맵 생성 프롬프트
     */
    generateRoadmap: (collectedInfo) => {
        return `
다음 정보를 바탕으로 사용자를 위한 체계적이고 실현 가능한 로드맵을 생성해줘.

[수집된 정보]
${collectedInfo}

[로드맵 생성 가이드라인]
1. 최종 목표를 명확하고 구체적으로 정의해줘
2. 중간 목표는 최종 목표를 달성하기 위한 단계별 마일스톤이어야 해
3. 각 중간 목표마다 구체적이고 실행 가능한 세부 행동 계획을 제시해줘
4. 시간과 비용을 고려하여 현실적인 계획을 세워줘
5. 초보자도 따라할 수 있도록 상세하고 명확한 설명을 포함해줘

[출력 형식]
반드시 아래 JSON 구조를 따라야 해:
{
  "finalGoal": "최종 목표 요약",
  "intermediateGoals": [
    {
      "goal": "중간 목표",
      "actions": [
        {
          "action": "세부 행동"
        }
      ]
    }
  ]
}

[주의사항]
- 각 단계는 이전 단계의 완료를 전제로 구성해줘
- 난이도는 점진적으로 증가하도록 배치해줘
- 구체적인 도구나 리소스가 필요한 경우 명시해줘
        `.trim();
    },

    /**
     * 대화 요약 프롬프트
     * 사용자의 고민이나 대화 내용을 체계적으로 정리하여 
     * 현재 상황, 문제 원인, 핵심 요약, 조언 및 목표를 제시합니다.
     * 
     * @param {string} conversationHistory - 대화 내용 전체
     * @returns {string} 요약 생성 프롬프트
     */
    generateSummary: (conversationHistory) => {
        return `
다음 대화 내용을 바탕으로 사용자의 고민을 체계적으로 정리해줘.

[대화 내용]
${conversationHistory}

[요약 구조]
아래 4가지 항목을 반드시 포함하여 마크다운 형식으로 작성해줘:

### 현재 상황
- 사용자가 처한 상황을 객관적으로 1~2 문장으로 요약해줘
- 감정적 상태와 구체적인 상황을 포함해줘

### 문제 원인
- 대화 내용에서 추론할 수 있는 근본적인 원인을 분석해줘
- 표면적인 문제가 아닌 깊이 있는 원인을 찾아줘
- 여러 원인이 있다면 우선순위를 매겨서 설명해줘

### 핵심 요약
- 전체 고민의 핵심을 한두 문장으로 요약해줘
- 사용자가 가장 중요하게 생각하는 부분을 중심으로 정리해줘

### 조언 및 목표 제안
- 상황을 해결하기 위한 구체적인 조언을 제시해줘
- 단기적 목표와 장기적 목표를 구분해서 제안해줘
- 실행 가능한 구체적인 행동 계획을 포함해줘
- 격려와 동기부여가 되는 톤으로 작성해줘

[작성 가이드라인]
- 공감적이고 이해심 있는 톤을 유지해줘
- 구체적이고 실행 가능한 조언을 제공해줘
- 사용자의 강점과 가능성을 강조해줘
- 전문적이면서도 따뜻한 언어를 사용해줘
        `.trim();
    },

    /**
     * AI 도구 추천 프롬프트
     * 사용자의 현재 목표와 수행 중인 단계에 맞는 AI 도구를 추천하고
     * 각 도구에 대한 상세 정보와 맞춤형 프롬프트를 제공합니다.
     * 
     * @param {string} currentGoal - 현재 진행 중인 중간 목표
     * @param {string} currentAction - 현재 수행 중인 세부 행동
     * @returns {string} AI 도구 추천 프롬프트
     */
    generateAiHelp: (currentGoal, currentAction) => {
        return `
사용자는 현재 "${currentGoal}"라는 중간 목표를 위해 "${currentAction}" 단계를 수행하고 있습니다.

이 단계를 가장 효율적으로 완료하는 데 도움이 될 AI 도구들을 3개 비교/분석하고, 그중 가장 적합한 도구 1개를 추천해주세요.

[추천 기준]
1. 작업 효율성: 해당 단계를 가장 빠르고 정확하게 완료할 수 있는 도구
2. 비용 효율성: 무료 또는 합리적인 가격의 도구 우선 고려
3. 사용자 친화성: 초보자도 쉽게 사용할 수 있는 인터페이스
4. 특화 분야: 해당 작업에 특화된 기능을 제공하는 도구

[출력 형식]
반드시 아래의 JSON 구조를 따라야 합니다:

{
  "ai_tools": [
    {
      "name": "AI 도구 이름",
      "url": "AI 도구 웹페이지 URL",
      "specialization": "AI 특화 분야 (예: 텍스트 생성, 이미지 생성, 코드 분석 등)",
      "cost": "이용 비용 (예: 무료, 또는 월 $20 등 구체적인 가격 정보)",
      "prompt": "사용자의 현재 단계를 위한 맞춤형 프롬프트"
    }
  ],
  "recommendation": {
    "name": "추천하는 AI 도구 이름",
    "reason": "해당 AI를 추천하는 이유를 작업 효율, 비용, 특화 분야를 종합하여 2-3문장으로 구체적으로 작성"
  }
}

[프롬프트 생성 가이드라인]
- 각 도구의 프롬프트는 사용자의 구체적인 상황에 맞게 작성해줘
- 실행 가능하고 명확한 지시사항을 포함해줘
- 예상되는 결과물의 형태를 명시해줘
- 초보자도 이해할 수 있는 용어를 사용해줘

[도구 선정 기준]
- 실제로 존재하고 접근 가능한 도구만 추천해줘
- 최신 정보를 바탕으로 정확한 가격 정보를 제공해줘
- 한국어 지원 여부를 고려해줘
- 웹 기반 도구를 우선적으로 고려해줘
        `.trim();
    },

    /**
     * 로드맵 질문 프롬프트
     * 로드맵 생성 과정에서 사용자로부터 필요한 정보를 수집하기 위한 질문들입니다.
     * 각 질문은 로드맵의 품질을 높이기 위해 설계되었습니다.
     */
    roadmapQuestions: {
        /**
         * 현재 상황 파악 질문
         * 사용자의 현재 수준과 상황을 파악합니다.
         */
        currentSituation: "현재 목표와 관련하여 어떤 상황에 계신가요? (예: 프로그래밍 초보, 관련 지식 없음, 어느 정도 경험 있음 등)",
        
        /**
         * 시간 투자 가능량 질문
         * 사용자가 일주일에 투자할 수 있는 시간을 파악합니다.
         */
        timeInvestment: "일주일에 투자할 수 있는 시간은 어느 정도인가요? (예: 5시간, 10시간, 20시간 등)",
        
        /**
         * 비용 투자 가능량 질문
         * 사용자가 투자할 수 있는 비용을 파악합니다.
         */
        costInvestment: "투자할 수 있는 비용이 있나요? 있다면 어느 정도인가요? (예: 무료로만, 월 5만원, 월 10만원 등)",
        
        /**
         * 목표 달성 기한 질문
         * 사용자가 목표를 달성하고 싶은 기한을 파악합니다.
         */
        targetDeadline: "목표를 언제까지 달성하고 싶으신가요? (예: 3개월, 6개월, 1년 등)",
        
        /**
         * 목표 달성 목적 질문
         * 사용자가 목표를 달성하려는 주된 목적을 파악합니다.
         */
        targetPurpose: "이 목표를 달성하려는 주된 목적은 무엇인가요? (예: 취업, 사이드 프로젝트, 자기계발, 창업 등)"
    },

    /**
     * 로드맵 단계별 질문 처리 프롬프트
     * 로드맵 생성 과정에서 사용자의 답변을 처리하고 다음 질문을 제시합니다.
     * 
     * @param {string} userAnswer - 사용자의 답변
     * @param {string} question - 질문 내용
     * @returns {string} 처리된 응답 프롬프트
     */
    processRoadmapAnswer: (userAnswer, question) => {
        return `
사용자가 다음 질문에 답변했습니다:

질문: ${question}
답변: ${userAnswer}

이 답변을 바탕으로 다음 질문을 제시하거나 로드맵 생성 준비가 완료되었음을 알려주세요.

[처리 규칙]
1. 답변이 충분한 정보를 제공했다면 다음 질문으로 진행
2. 답변이 부족하다면 추가 정보를 요청
3. 모든 질문이 완료되었다면 로드맵 생성 준비 완료를 알림
4. 격려적이고 친근한 톤을 유지
        `.trim();
    }
};

module.exports = PROMPTS;

